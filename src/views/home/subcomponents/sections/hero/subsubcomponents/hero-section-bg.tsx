// HeroSectionBg.tsx
import React, { useState, useEffect } from "react";
import { HeroSectionBgQuote } from "./subsubsubcomponents/hero-section-bg-quote";

const quotes = [
  "Наебалово никогда не обманет",
  "Меньше знаешь — тупой",
  "Кто читает тот лох и гей",
  "Наше ГДЗ самое правдивое",
  "Не все поймут",
  "Каждый день - новый обман. Только не у нас",
  "Учёба не волк. Волк - это мы",
  "Мы бы соврали, но мы не тупые",
  "Наебалово - это твой второй батя",
  "Качество постов зависит от луны и похмелья редактора",
  "Умные сами решают. Остальные с нами",
  "Я решал с наебалово.ру. Теперь я курьер",
  "Решал через наебалово. Теперь у мены просят ответы",
  "Сайт спас мне жизнь",
  "Пытался решить сам, потом зашёл в наебалово. Понял что решал неправильно",
  "Единственный сайт, которому я доверяю - Артём 9Ь",
  "Училка сказала где я это нашёл. Сказал в себе. На самом деле в наебалове",
  "Мне бы вашу уверенность, пока вы пишите ГДЗ - Училка по биологии",
  "Ошибка - тоже ответ",
  "Вы меня не поправляйте, я вам не трусы",
  "Не пытайтесь меня понять, я сам с собой не справляюсь",
  "Наебалово — единственное место, где тебе рады, даже если ты тупой",
  "Я не сломался, я так живу",
  "Нахуй я это пишу",
  "Наебалово всем поможет",
  "Далеко не думай. Думай близко.",
  "Наебалово - это правда, которую скрывают",
  "Потерялся - иди домой",
  "Наебалово - это как твой друг с соткой",
  "Мне не надо повторять дважды, мне и так похуй",
];

export const HeroSectionBg: React.FC = () => {
  const [activeQuotes, setActiveQuotes] = useState<
    { id: number; text: string }[]
  >([]);

  useEffect(() => {
    const interval = setInterval(() => {
      const text = quotes[Math.floor(Math.random() * quotes.length)];
      const id = Date.now();
      setActiveQuotes((qs) => [...qs, { id, text }]);
      setTimeout(() => {
        setActiveQuotes((qs) => qs.filter((q) => q.id !== id));
      }, 6000);
    }, 250);

    return () => clearInterval(interval);
  }, []);

  return (
    <div
      className="absolute inset-0 overflow-hidden"
      style={{ perspective: "300px" }}
    >
      {activeQuotes.map((q) => (
        <HeroSectionBgQuote key={q.id} quote={q.text} />
      ))}
    </div>
  );
};
